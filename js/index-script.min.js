var link=document.querySelector(".link-button-recall"),popup=document.querySelector(".modal-recall-form"),close=popup.querySelector(".modal-close"),form=popup.querySelector("form"),userName=popup.querySelector(".recall-form-name"),userEmail=popup.querySelector(".recall-form-email"),userLetter=popup.querySelector(".recall-form-letter"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail")}catch(err){isStorageSupport=!1}link.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal-show"),storageName&&storageEmail?(userName.value=storageName,userEmail.value=storageEmail,userLetter.focus()):userName.focus()}),close.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("modal-show")}),form.addEventListener("submit",function(a){userEmail.value||userLetter.value?userEmail.value?userLetter.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("userEmail",userEmail.value)):(a.preventDefault(),userLetter.classList.remove("modal-error"),userLetter.offsetWidth=userLetter.offsetWidth,userLetter.classList.add("modal-error")):(a.preventDefault(),userEmail.classList.remove("modal-error"),userEmail.offsetWidth=userEmail.offsetWidth,userEmail.classList.add("modal-error")):(a.preventDefault(),userEmail.classList.remove("modal-error"),userLetter.classList.remove("modal-error"),userEmail.offsetWidth=userEmail.offsetWidth,userLetter.offsetWidth=userLetter.offsetWidth,userEmail.classList.add("modal-error"),userLetter.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});var mapLink=document.querySelector(".contacts-button-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show"))});var buyLink=document.querySelectorAll(".buy-modal-button"),buyPopup=document.querySelector(".modal-add-item"),buyClose=buyPopup.querySelectorAll(".modal-close"),buyContinue=buyPopup.querySelector(".continue-shopping-button");buyLink.forEach(function(a){a.addEventListener("click",function(a){a.preventDefault(),buyPopup.classList.add("modal-show-add-item")})}),buyClose.forEach(function(a){a.addEventListener("click",function(a){a.preventDefault(),buyPopup.classList.remove("modal-show-add-item")})}),buyContinue.addEventListener("click",function(a){a.preventDefault(),buyPopup.classList.remove("modal-show-add-item")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),buyPopup.classList.contains("modal-show-add-item")&&buyPopup.classList.remove("modal-show-add-item"))});
